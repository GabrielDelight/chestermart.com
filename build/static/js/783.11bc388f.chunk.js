"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[783],{2783:(e,a,r)=>{r.r(a),r.d(a,{default:()=>u});var s=r(2791),i=r(6871),o=r(3504),l=r(6727),n=r(5705),t=r(8007),d=r(1830),m=r.n(d),c=r(2189),h=r(184);const p=t.Ry().shape({email:t.Z_().email("Invalid email address").required("Your valid email is required"),password:t.Z_().min(8).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,"Password must contain at least 8 characters, one uppercase letter, one lowercase letter, one number, and one special character.").required("Password is required")});const u=function(){(0,s.useEffect)((()=>{window.localStorage.removeItem("admin-token")}),[]);const[e]=(0,c.f9)(),a=(0,i.s0)();return(0,h.jsx)(n.J9,{initialValues:{email:"",password:""},onSubmit:r=>{let s=new URLSearchParams(window.location.search).get("redirect"),i="/";s&&(i="/"+s),e({url:"/admin/login",body:r}).unwrap().then((e=>{console.log(e);let r=e.user.token;window.localStorage.setItem("admin-token",r),a("/admin/dashboard")})).catch((e=>{m().fire({icon:"error",title:"Oops...",text:e.data.message}),console.log(e)}))},validationSchema:p,children:e=>{let{handleChange:a,handleSubmit:r,setFieldTouched:s,touched:i,isValid:n,values:t,errors:d}=e;return(0,h.jsx)("div",{className:l.Z.main,children:(0,h.jsx)("div",{className:l.Z.wrapper,children:(0,h.jsxs)("div",{className:l.Z.form,children:[(0,h.jsx)("p",{className:l.Z.form_title,children:"Admin Sign In"}),(0,h.jsxs)("div",{className:l.Z.form_list,children:[(0,h.jsx)("label",{htmlFor:"",children:"E-mail Address"}),(0,h.jsx)("input",{type:"email",placeholder:"johnsmith@email.com",name:"email",value:t.email,onChange:a("email")}),i.email&&d.email&&(0,h.jsx)("p",{className:l.Z.error,children:d.email})]}),(0,h.jsxs)("div",{className:l.Z.form_list,children:[(0,h.jsx)("label",{htmlFor:"",children:"Password"}),(0,h.jsx)("input",{type:"password",placeholder:"Enter your password",name:"password",value:t.password,onChange:a("password")}),i.password&&d.password&&(0,h.jsx)("p",{className:l.Z.error,children:d.password})]}),(0,h.jsx)("div",{className:l.Z.form_list,children:(0,h.jsx)("button",{onClick:()=>r(),children:"Login"})}),(0,h.jsxs)("p",{children:["Don't have an account?"," ",(0,h.jsx)(o.rU,{to:"/admin/signup",children:"Register now"}),"."]})]})})})}})}},6727:(e,a,r)=>{r.d(a,{Z:()=>s});const s={main:"Login_main__-Woik",wrapper:"Login_wrapper__olPZx",form_title:"Login_form_title__SPX-U",form_row:"Login_form_row__QlWgU",form:"Login_form__aduzR",form_list:"Login_form_list__uNq9C",error:"Login_error__VGhM-"}}}]);
//# sourceMappingURL=783.11bc388f.chunk.js.map