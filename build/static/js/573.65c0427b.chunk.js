"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[573],{9970:(e,s,i)=>{i.d(s,{Z:()=>y});var r=i(2791);const d="AdminHeader_header__sB--Q",n="AdminHeader_left___VmarK",a="AdminHeader_right___pJNOw",t="AdminHeader_user_profile__MVNOS",l="AdminHeader_logo__VAzAj",c="AdminHeader_mobile_sidebar__ZSzgU",o="AdminHeader_wrapper__FkuIb",h="AdminHeader_close_wrapper__ku66r",_="AdminHeader_menu__RYwvI";var m=i(6355),x=i(3504),u=i(6871),j=i(335),p=i(5706),v=i(3853);const g="AdminSideBar_main__MXOiO";var b=i(184);const C=function(){return(0,b.jsx)("div",{className:g,children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/dashboard",children:"Dashboard"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/orders",children:"Orders"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/products",children:"Products"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/brands",children:"Brands"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/categories",children:"Categories"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/users",children:"Users"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/admins",children:"Admins"})}),(0,b.jsx)("li",{children:(0,b.jsx)(x.rU,{to:"/admin/login",style:{color:"red"},children:"Logout"})})]})})};const N=function(){(0,r.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]);const{data:e,refetch:s}=(0,j.rS)("/admin"),i=(0,u.s0)(),g=localStorage.getItem("admin-token"),N=(e=>{if(!e||"undefined"===e)return void i("/admin/login");const s=JSON.parse(atob(e.split(".")[1]));return Math.floor(Date.now()/1e3)>=s.exp})(g);console.log("===>",N),(0,r.useEffect)((()=>{N&&alert("Session has expired"),(N||!g||g.length<1)&&i("/admin/login")}),[N]);const[w,y]=(0,r.useState)(!1),S=()=>{y(!w)};return(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("div",{className:n,children:(0,b.jsxs)("div",{className:l,children:[(0,b.jsx)(x.rU,{to:"/admin/dashboard","aria-label":"logo",children:(0,b.jsx)(p.Z,{src:"/images/logo.webp",width:50,height:50})})," "]})}),(0,b.jsxs)("div",{className:a,children:[(0,b.jsx)(x.rU,{to:"/admin/dashboard","aria-label":"User name",children:(0,b.jsxs)("div",{className:t,children:[(0,b.jsx)("span",{children:null===e||void 0===e?void 0:e.firstname.substr(0,1)}),(0,b.jsx)("span",{children:null===e||void 0===e?void 0:e.lastname.substr(0,1)})]})}),(0,b.jsx)("div",{className:_,children:(0,b.jsx)(v.cur,{size:25,onClick:S})})]}),w&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{id:"mobile_wrapper",className:c,onClick:e=>{var s;"mobile_wrapper"===(null===(s=e.target)||void 0===s?void 0:s.id)&&S()},children:(0,b.jsxs)("div",{className:o,children:[(0,b.jsx)("div",{className:h,children:(0,b.jsx)(m.aHS,{size:45,color:"white",onClick:S})}),(0,b.jsx)(C,{})]})})})]})},w="AdminWrapperStyles_main__ndYGg",y=e=>{let{children:s}=e;const[i,d]=(0,r.useState)(!0);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N,{}),(0,b.jsxs)("main",{className:w,children:[(0,b.jsx)("aside",{children:(0,b.jsx)(C,{})}),(0,b.jsx)("article",{children:s})]})]})}},6222:(e,s,i)=>{i.d(s,{Z:()=>S});var r=i(2791),d=i(6355),n=i(3504),a=i(3024),t=i(5706),l=i(9126),c=i(1830),o=i.n(c),h=i(2189);const _="CreateRatings_container__QdrFd",m="CreateRatings_wrapper__CxQ8N",x="CreateRatings_star_wrapper__ZmWve";var u=i(184);const j=e=>{let{productId:s,onCloseHandler:i}=e;const[n]=(0,h.f9)();let[a,t]=(0,r.useState)(0),[c,j]=(0,r.useState)("");return(0,u.jsx)("div",{className:_,id:"wrapper-close",children:(0,u.jsxs)("div",{className:m,children:[(0,u.jsxs)("header",{children:[(0,u.jsx)("p",{children:"Ratings and Review"}),(0,u.jsx)(d.aHS,{onClick:i})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:x,children:[0,1,2,3,4].map((e=>(0,u.jsx)("div",{onClick:()=>(e=>{t(e+1)})(e),children:a<=e?(0,u.jsx)(l.RrZ,{color:"chocolate",size:25}):(0,u.jsx)(l.kRm,{color:"chocolate",size:25})},e)))}),(0,u.jsx)("textarea",{onChange:e=>j(e.target.value),placeholder:"Enter a review",name:"",id:"",maxLength:100}),(0,u.jsx)("button",{onClick:()=>a<1?alert("Please give a rating"):c.length<1?alert("Please enter your review"):void n({url:"/ratings",body:{rating:a,comment:c,productId:s}}).unwrap().then((e=>{console.log(e),o().fire({icon:"success",text:e.message}),i()})).catch((e=>{o().fire({icon:"error",title:"Oops...",text:e.data.message}),console.log(e)})),children:"Submit"})]})]})})},p="CartList_main__nKEPP",v="CartList_img_wrapper__0sepj",g="CartList_details_wrapper__kS+N6",b="CartList_qty_wrapper__oawpH",C="CartList_cart_btn__wt2wI",N="CartList_btn_wrapper__xfOEy",w="CartList_big_txt__mjvt5",y="CartList_price_wrapper__KOTCf",S=e=>{var s;let{item:i,isCart:l=!1,hasRatings:c=!1}=e;const o=e=>{let s=JSON.parse(window.localStorage.getItem("cart")||"[]");if(s.filter((e=>e._id===i._id)).length>0)return s.map((s=>(s._id===i._id&&(s.quantity>=1?("inc"==e&&(s.quantity+=1),"dsc"==e&&(s.quantity-=1)):s.quantity=1),s))),void localStorage.setItem("cart",JSON.stringify(s))},[h,_]=(0,r.useState)(!1),m=()=>{_(!h)};return(0,u.jsxs)("div",{className:p,children:[(0,u.jsx)("div",{className:v,children:(0,u.jsx)(n.rU,{to:"/product/"+i._id,children:(0,u.jsx)(t.Z,{src:(0,a.r)()+i.image1,alt:""})})}),(0,u.jsxs)("div",{className:g,children:[(0,u.jsxs)("p",{className:w,children:[i.name," (",i.brand,")"]}),(0,u.jsx)("div",{className:y,children:(0,u.jsx)("div",{children:(0,u.jsxs)("b",{children:[null===i||void 0===i||null===(s=i.price)||void 0===s?void 0:s.toLocaleString("en")," x ",i.quantity," = $",((null===i||void 0===i?void 0:i.price)*i.quantity).toLocaleString()]})})}),l&&(0,u.jsxs)("div",{className:N,children:[(0,u.jsxs)("div",{className:b,children:[(0,u.jsx)("button",{onClick:()=>o("dsc"),disabled:1===i.quantity,children:(0,u.jsx)(d.bUI,{})}),(0,u.jsx)("input",{type:"number",disabled:!0,value:i.quantity}),(0,u.jsx)("button",{onClick:()=>o("inc"),children:(0,u.jsx)(d.Dli,{})})]}),(0,u.jsxs)("button",{className:C,onClick:()=>{if(!window.confirm("Are you sure you want to remove this item from your cart?"))return;let e=JSON.parse(window.localStorage.getItem("cart")||"[]").filter((e=>e._id!==i._id));localStorage.setItem("cart",JSON.stringify(e))},children:[" ","Remove"]})]}),c&&(0,u.jsxs)("button",{className:C,onClick:m,children:[" ","Give a review"]}),h&&(0,u.jsx)(j,{productId:i._id,onCloseHandler:m})]})]})}},4573:(e,s,i)=>{i.r(s),i.d(s,{default:()=>_});var r=i(3504),d=i(6871),n=i(1830),a=i.n(n),t=i(9970),l=i(6222),c=i(335);const o={main:"AdminOrderList_main__L4-Kl",article:"AdminOrderList_article__noe2+",aside:"AdminOrderList_aside__qZdl4",title:"AdminOrderList_title__jxuO7",cart_sub_title:"AdminOrderList_cart_sub_title__ky0is",update_btns:"AdminOrderList_update_btns__Do-ya",order_details:"AdminOrderList_order_details__lA1KT",hr:"AdminOrderList_hr__5bcBN"};var h=i(184);const _=function(){const{id:e}=(0,d.UO)(),{data:s=[]}=(0,c.rS)("/admin-orders/"+e),{data:i}=(0,c.rS)("/get-admin-billing-address/"+e);console.log("::YYY::",i);const[n]=(0,c._Q)(),_=s=>{n({url:"/update-order-status",body:{status:s,order_id:e}}).unwrap().then((e=>{console.log(e),a().fire({icon:"success",title:e.message})})).catch((e=>{a().fire({icon:"error",title:"Oops...",text:e.data.message}),console.log(e)}))};return(0,h.jsx)(t.Z,{children:(0,h.jsxs)("main",{className:o.main,children:[(0,h.jsxs)("div",{className:o.article,children:[(0,h.jsxs)("p",{children:[(0,h.jsx)(r.rU,{to:"/admin/orders",children:"Order"})," / item"]}),(0,h.jsx)("div",{}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:o.cart_wrapper,children:s.map((e=>(0,h.jsx)(l.Z,{item:e})))})]}),(0,h.jsxs)("div",{className:o.aside,children:[(0,h.jsxs)("div",{className:o.update_btns,children:[(0,h.jsx)("h3",{children:"Order Status"}),(0,h.jsx)("button",{style:{backgroundColor:"green"},onClick:()=>_("paid"),children:"Paid"}),(0,h.jsx)("button",{style:{backgroundColor:"orange"},onClick:()=>_("pending"),children:"Pending"}),(0,h.jsx)("button",{style:{backgroundColor:"blue"},onClick:()=>_("success"),children:"Success"}),(0,h.jsx)("button",{style:{backgroundColor:"chocolate"},onClick:()=>_("processing"),children:"Processing"}),(0,h.jsx)("button",{style:{backgroundColor:"purple"},onClick:()=>_("delivered"),children:"Delivered"}),(0,h.jsx)("button",{style:{backgroundColor:"red"},onClick:()=>_("rejected"),children:"Rejected"})]}),(0,h.jsx)("hr",{className:o.hr}),(0,h.jsxs)("div",{className:o.order_details,children:[(0,h.jsx)("h3",{children:"Order Details"}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Status:"})," ",null===i||void 0===i?void 0:i.status]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Quantity:"})," ",null===i||void 0===i?void 0:i.quantity]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Total"})," amount ",null===i||void 0===i?void 0:i.total]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Address:"})," ",null===i||void 0===i?void 0:i.address," "]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Phone"})," Nu:mber ",null===i||void 0===i?void 0:i.phoneNumber]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Email:"})," ",null===i||void 0===i?void 0:i.email]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"State:"})," ",null===i||void 0===i?void 0:i.state]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"City:"})," ",null===i||void 0===i?void 0:i.city]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Postal code:"})," ",null===i||void 0===i?void 0:i.postalCode]})]})]})]})})}}}]);
//# sourceMappingURL=573.65c0427b.chunk.js.map