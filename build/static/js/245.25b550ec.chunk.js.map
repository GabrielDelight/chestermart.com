{"version":3,"file":"static/js/245.25b550ec.chunk.js","mappings":"6OASA,MAAMA,EAAaC,EAAAA,KAAaC,MAAM,CACpCC,MAAOF,EAAAA,KACJE,MAAM,yBACNC,SAAS,gCAEZC,SAAUJ,EAAAA,KACPK,IAAI,GACJC,QACC,iEACA,mIAEDH,SAAS,0BAgHd,QA7GA,YACEI,EAAAA,EAAAA,YAAU,KACRC,OAAOC,aAAaC,WAAW,QAA/B,GACC,IACH,MAAOC,GAAa,UAAEC,KAAeC,EAAAA,EAAAA,MAC/BC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAAC,IAAD,WACE,SAAC,KAAD,CACEC,cAAe,CACbd,MAAO,GACPE,SAAU,IAEZa,SAAWC,IAET,IAAIC,EADQ,IAAIC,gBAAgBZ,OAAOa,SAASC,QAC9BC,IAAI,YAClBC,EAAkB,IAClBL,IACFK,EAAa,IAAML,GAGrBR,EAAY,CACVc,IAAK,SACLC,KAAMR,IAELS,SACAC,MAAMC,IACLC,QAAQC,IAAIF,GAEZ,IAAIG,EAAQH,EAAKI,KAAKD,MACtBxB,OAAOC,aAAayB,QAAQ,QAASF,GAErClB,EAASU,EAAT,IAEDW,OAAOC,IACNC,IAAAA,KAAU,CACRC,KAAM,QACNC,MAAO,UACPC,KAAMJ,EAAMP,KAAKY,UAGnBX,QAAQC,IAAIK,EAAZ,GApBJ,EAuBFM,iBAAkB3C,EApCpB,SAsCG,QAAC,aACA4C,EADA,aAEAC,EAFA,gBAGAC,EAHA,QAIAC,EAJA,QAKAC,EALA,OAMA7B,EANA,OAOA8B,GAPD,SASC,gBAAKC,UAAWC,EAAAA,EAAAA,KAAhB,UACE,gBAAKD,UAAWC,EAAAA,EAAAA,QAAhB,UACE,iBAAKD,UAAWC,EAAAA,EAAAA,KAAhB,WACE,cAAGD,UAAWC,EAAAA,EAAAA,WAAd,sBAEA,iBAAKD,UAAWC,EAAAA,EAAAA,UAAhB,WACE,kBAAOC,QAAQ,GAAf,6BACA,kBACEC,KAAK,QACLC,YAAY,sBACZC,KAAK,QACLC,MAAOrC,EAAOhB,MACdsD,SAAUb,EAAa,WAExBG,EAAQ5C,OAAS8C,EAAO9C,QACvB,cAAG+C,UAAWC,EAAAA,EAAAA,MAAd,SAA8BF,EAAO9C,YAGzC,iBAAK+C,UAAWC,EAAAA,EAAAA,UAAhB,WACE,kBAAOC,QAAQ,GAAf,uBACA,kBACEC,KAAK,WACLC,YAAY,sBACZC,KAAK,WACLC,MAAOrC,EAAOd,SACdoD,SAAUb,EAAa,cAExBG,EAAQ1C,UAAY4C,EAAO5C,WAC1B,cAAG6C,UAAWC,EAAAA,EAAAA,MAAd,SAA8BF,EAAO5C,YAEvC,0BACE,SAAC,KAAD,CAAMqD,GAAI,mBAAV,8BAAsD,WAI1D,gBAAKR,UAAWC,EAAAA,EAAAA,UAAhB,UACE,mBAAQE,KAAK,SAASM,QAAS,IAAMd,IAArC,SACGhC,EAAY,iBAAmB,aAGpC,kDACyB,KACvB,SAAC,KAAD,CAAM6C,GAAI,UAAV,0BAFF,aAjDP,KA4DR,C,kCCjID,SAAgB,KAAO,oBAAoB,QAAU,uBAAuB,WAAa,0BAA0B,SAAW,wBAAwB,KAAO,oBAAoB,UAAY,yBAAyB,MAAQ,qB","sources":["components/pages/Forms/Login.tsx","webpack://my-app/./src/Styles/Login.module.css?fbf6"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Wrapper from \"../../UI/Wrapper/Wrapper\";\nimport classes from \"../../../Styles/Login.module.css\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Swal from \"sweetalert2\";\nimport { usePostRequestMutation } from \"../../../store/services/users\";\n\nconst FormSchema = Yup.object().shape({\n  email: Yup.string()\n    .email(\"Invalid email address\")\n    .required(\"Your valid email is required\"),\n\n  password: Yup.string()\n    .min(8)\n    .matches(\n      /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,\n      \"Password must contain at least 8 characters, one uppercase letter, one lowercase letter, one number, and one special character.\"\n    )\n    .required(\"Password is required\"),\n});\n\nfunction Login() {\n  useEffect(() => {\n    window.localStorage.removeItem(\"token\");\n  }, []);\n  const [PostRequest, { isLoading }] = usePostRequestMutation();\n  const navigate = useNavigate();\n\n  return (\n    <Wrapper>\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        onSubmit={(values) => {\n          const url = new URLSearchParams(window.location.search);\n          let new_url = url.get(\"redirect\");\n          let redirectTo: any = \"/\";\n          if (new_url) {\n            redirectTo = \"/\" + new_url;\n          }\n\n          PostRequest({\n            url: \"/login\",\n            body: values,\n          })\n            .unwrap()\n            .then((data) => {\n              console.log(data);\n\n              let token = data.user.token;\n              window.localStorage.setItem(\"token\", token);\n\n              navigate(redirectTo);\n            })\n            .catch((error) => {\n              Swal.fire({\n                icon: \"error\",\n                title: \"Oops...\",\n                text: error.data.message,\n              });\n\n              console.log(error);\n            });\n        }}\n        validationSchema={FormSchema}\n      >\n        {({\n          handleChange,\n          handleSubmit,\n          setFieldTouched,\n          touched,\n          isValid,\n          values,\n          errors,\n        }) => (\n          <div className={classes.main}>\n            <div className={classes.wrapper}>\n              <div className={classes.form}>\n                <p className={classes.form_title}>Sign In</p>\n\n                <div className={classes.form_list}>\n                  <label htmlFor=\"\">E-mail Address</label>\n                  <input\n                    type=\"email\"\n                    placeholder=\"johnsmith@email.com\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={handleChange(\"email\")}\n                  />\n                  {touched.email && errors.email && (\n                    <p className={classes.error}>{errors.email}</p>\n                  )}\n                </div>\n                <div className={classes.form_list}>\n                  <label htmlFor=\"\">Password</label>\n                  <input\n                    type=\"password\"\n                    placeholder=\"Enter your password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange(\"password\")}\n                  />\n                  {touched.password && errors.password && (\n                    <p className={classes.error}>{errors.password}</p>\n                  )}\n                  <p>\n                    <Link to={\"/forgot-password\"}>Forgot password?</Link>{\" \"}\n                  </p>\n                </div>\n\n                <div className={classes.form_list}>\n                  <button type=\"submit\" onClick={() => handleSubmit()}>\n                    {isLoading ? \"Please wait...\" : \"Login\"}\n                  </button>\n                </div>\n                <p>\n                  Don't have an account?{\" \"}\n                  <Link to={\"/signup\"}>Register now</Link>.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </Formik>\n    </Wrapper>\n  );\n}\n\nexport default Login;\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Login_main__-Woik\",\"wrapper\":\"Login_wrapper__olPZx\",\"form_title\":\"Login_form_title__SPX-U\",\"form_row\":\"Login_form_row__QlWgU\",\"form\":\"Login_form__aduzR\",\"form_list\":\"Login_form_list__uNq9C\",\"error\":\"Login_error__VGhM-\"};"],"names":["FormSchema","Yup","shape","email","required","password","min","matches","useEffect","window","localStorage","removeItem","PostRequest","isLoading","usePostRequestMutation","navigate","useNavigate","initialValues","onSubmit","values","new_url","URLSearchParams","location","search","get","redirectTo","url","body","unwrap","then","data","console","log","token","user","setItem","catch","error","Swal","icon","title","text","message","validationSchema","handleChange","handleSubmit","setFieldTouched","touched","isValid","errors","className","classes","htmlFor","type","placeholder","name","value","onChange","to","onClick"],"sourceRoot":""}