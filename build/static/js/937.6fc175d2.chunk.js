"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[937],{937:(s,e,r)=>{r.r(e),r.d(e,{default:()=>h});var o=r(2791),a=r(6871),n=r(7512),i=r(6727),l=r(5705),t=r(8007),d=r(2189),c=r(1830),m=r.n(c),p=r(184);const w=t.Ry().shape({password:t.Z_().min(8).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,"Password must contain at least 8 characters, one uppercase letter, one lowercase letter, one number, and one special character.").required("Password is required"),confirmPassword:t.Z_().min(8,"Confirm password must be 8 characters long").oneOf([t.iH("password")],"Password did not match").required("Confirm password is required")});const h=function(){const[s]=(0,d.f9)(),e=(0,a.s0)();let[r,t]=(0,o.useState)({code:"",email:""}),c=new URLSearchParams(window.location.search),h=c.get("code"),f=c.get("email");return(0,o.useEffect)((()=>{let s={code:h,email:f};t(s),console.log(Object.values(s).length),console.log(h)}),[]),(0,p.jsx)(n.Z,{children:(0,p.jsx)(l.J9,{initialValues:{password:"",confirmPassword:""},onSubmit:o=>{s({url:"/reset-forgotten-password",body:{password:o.password,confirmPassword:o.confirmPassword,code:r.code,email:r.email}}).unwrap().then((s=>{console.log(s),m().fire({icon:"success",text:s.message});let r=s.token;window.localStorage.setItem("token",r),e("/")})).catch((s=>{console.log(s),m().fire({icon:"error",title:"Oops...",text:s.data.message})}))},validationSchema:w,children:s=>{let{handleChange:e,handleSubmit:r,setFieldTouched:o,touched:a,isValid:n,values:l,errors:t}=s;return(0,p.jsx)("div",{className:i.Z.main,children:(0,p.jsx)("div",{className:i.Z.wrapper,children:(0,p.jsxs)("div",{className:i.Z.form,children:[(0,p.jsx)("p",{className:i.Z.form_title,children:"Change Password"}),(0,p.jsx)("p",{style:{fontSize:12,marginTop:-10},children:"Please enter a stronger password"}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:i.Z.form_list,children:[(0,p.jsx)("label",{htmlFor:"",children:"Password"}),(0,p.jsx)("input",{type:"password",placeholder:"Enter your password",name:"password",value:l.password,onChange:e("password")}),a.password&&t.password&&(0,p.jsx)("p",{className:i.Z.error,children:t.password})]}),(0,p.jsxs)("div",{className:i.Z.form_list,children:[(0,p.jsx)("label",{htmlFor:"",children:"Confirm Password"}),(0,p.jsx)("input",{type:"password",placeholder:"Confirm  password",name:"confirmPassword",value:l.confirmPassword,onChange:e("confirmPassword")}),a.confirmPassword&&t.confirmPassword&&(0,p.jsx)("p",{className:i.Z.error,children:t.confirmPassword})]}),(0,p.jsx)("div",{className:i.Z.form_list,children:(0,p.jsx)("button",{type:"submit",onClick:()=>r(),children:"Update"})})]})})})}})})}},6727:(s,e,r)=>{r.d(e,{Z:()=>o});const o={main:"Login_main__-Woik",wrapper:"Login_wrapper__olPZx",form_title:"Login_form_title__SPX-U",form_row:"Login_form_row__QlWgU",form:"Login_form__aduzR",form_list:"Login_form_list__uNq9C",error:"Login_error__VGhM-"}}}]);
//# sourceMappingURL=937.6fc175d2.chunk.js.map