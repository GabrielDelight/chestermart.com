"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[814],{9970:(e,r,n)=>{n.d(r,{Z:()=>w});var t=n(2791);const a="AdminHeader_header__sB--Q",i="AdminHeader_left___VmarK",s="AdminHeader_right___pJNOw",l="AdminHeader_user_profile__MVNOS",d="AdminHeader_logo__VAzAj",o="AdminHeader_mobile_sidebar__ZSzgU",c="AdminHeader_wrapper__FkuIb",h="AdminHeader_close_wrapper__ku66r",u="AdminHeader_menu__RYwvI";var p=n(6355),j=n(3504),m=n(6871),f=n(335),x=n(5706),v=n(3853);const b="AdminSideBar_main__MXOiO";var y=n(184);const O=function(){return(0,y.jsx)("div",{className:b,children:(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/dashboard",children:"Dashboard"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/orders",children:"Orders"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/products",children:"Products"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/brands",children:"Brands"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/categories",children:"Categories"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/users",children:"Users"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/admins",children:"Admins"})}),(0,y.jsx)("li",{children:(0,y.jsx)(j.rU,{to:"/admin/login",style:{color:"red"},children:"Logout"})})]})})};const g=function(){(0,t.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]);const{data:e,refetch:r}=(0,f.rS)("/admin"),n=(0,m.s0)(),b=localStorage.getItem("admin-token"),g=(e=>{if(!e||"undefined"===e)return void n("/admin/login");const r=JSON.parse(atob(e.split(".")[1]));return Math.floor(Date.now()/1e3)>=r.exp})(b);console.log("===>",g),(0,t.useEffect)((()=>{g&&alert("Session has expired"),(g||!b||b.length<1)&&n("/admin/login")}),[g]);const[_,w]=(0,t.useState)(!1),T=()=>{w(!_)};return(0,y.jsxs)("div",{className:a,children:[(0,y.jsx)("div",{className:i,children:(0,y.jsxs)("div",{className:d,children:[(0,y.jsx)(j.rU,{to:"/admin/dashboard","aria-label":"logo",children:(0,y.jsx)(x.Z,{src:"/images/logo.webp",width:50,height:50})})," "]})}),(0,y.jsxs)("div",{className:s,children:[(0,y.jsx)(j.rU,{to:"/admin/dashboard","aria-label":"User name",children:(0,y.jsxs)("div",{className:l,children:[(0,y.jsx)("span",{children:null===e||void 0===e?void 0:e.firstname.substr(0,1)}),(0,y.jsx)("span",{children:null===e||void 0===e?void 0:e.lastname.substr(0,1)})]})}),(0,y.jsx)("div",{className:u,children:(0,y.jsx)(v.cur,{size:25,onClick:T})})]}),_&&(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{id:"mobile_wrapper",className:o,onClick:e=>{var r;"mobile_wrapper"===(null===(r=e.target)||void 0===r?void 0:r.id)&&T()},children:(0,y.jsxs)("div",{className:c,children:[(0,y.jsx)("div",{className:h,children:(0,y.jsx)(p.aHS,{size:45,color:"white",onClick:T})}),(0,y.jsx)(O,{})]})})})]})},_="AdminWrapperStyles_main__ndYGg",w=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(!0);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(g,{}),(0,y.jsxs)("main",{className:_,children:[(0,y.jsx)("aside",{children:(0,y.jsx)(O,{})}),(0,y.jsx)("article",{children:r})]})]})}},1814:(e,r,n)=>{n.r(r),n.d(r,{default:()=>f});var t=n(2791),a=n(6871);const i="AdminOrderList_main___Ko170",s="AdminOrderList_header__BFRZH";var l=n(5336),d=(n(6338),n(335)),o=n(3543),c=n(1574),h=n(5895),u=n(184);const p=function(){const e=(0,a.s0)(),[r,n]=(0,t.useState)(10),{ref:p,inView:j}=(0,h.YD)({threshold:.1}),[m,f]=(0,t.useState)(""),{data:x=[],isLoading:v,refetch:b}=(0,d.rS)("/order_by_status?status=".concat(m,"&&limit=").concat(r)),{data:y}=(0,d.rS)("/order-length");return(0,t.useEffect)((()=>{j&&(console.log("Inview"),n(r+10),setTimeout((()=>{b()}),100))}),[j]),(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{children:(0,u.jsxs)("header",{className:s,children:[(0,u.jsxs)("h1",{children:["Orders (",null===y||void 0===y?void 0:y.length,") "]}),(0,u.jsxs)("select",{name:"",id:"",onChange:e=>{f(e.target.value)},children:[(0,u.jsx)("option",{value:"all",children:"all"}),(0,u.jsx)("option",{value:"paid",children:"Paid"}),(0,u.jsx)("option",{value:"rejected",children:"rejected"}),(0,u.jsx)("option",{value:"appreoved",children:"Approved"}),(0,u.jsx)("option",{value:"delivered",children:"Delivered"}),(0,u.jsx)("option",{value:"processing",children:"Processing"})]})]})}),x.length>0&&(0,u.jsxs)(l.iA,{children:[(0,u.jsx)(l.hr,{children:(0,u.jsxs)(l.Tr,{children:[(0,u.jsx)(l.Th,{children:"S/N"}),(0,u.jsx)(l.Th,{children:"Order ID"}),(0,u.jsx)(l.Th,{children:"Firstname"}),(0,u.jsx)(l.Th,{children:"Lastname"}),(0,u.jsx)(l.Th,{children:"Email"}),(0,u.jsx)(l.Th,{children:"Phone Number"}),(0,u.jsx)(l.Th,{children:"Address"}),(0,u.jsx)(l.Th,{children:"State"}),(0,u.jsx)(l.Th,{children:"City"}),(0,u.jsx)(l.Th,{children:"Quantity"}),(0,u.jsx)(l.Th,{children:"Total Amount"}),(0,u.jsx)(l.Th,{children:"Status"}),(0,u.jsx)(l.Th,{children:"Date"}),(0,u.jsx)(l.Th,{children:"Action"})]})}),(0,u.jsx)(l.p3,{children:x.map(((r,n)=>(0,u.jsxs)(l.Tr,{children:[(0,u.jsx)(l.Td,{children:n+1}),(0,u.jsx)(l.Td,{children:r.order_id}),(0,u.jsx)(l.Td,{children:r.firstname}),(0,u.jsx)(l.Td,{children:r.lastname}),(0,u.jsx)(l.Td,{children:(0,u.jsx)("div",{className:"short_tr",children:r.email})}),(0,u.jsx)(l.Td,{children:r.phoneNumber}),(0,u.jsx)(l.Td,{children:r.address}),(0,u.jsx)(l.Td,{children:r.state}),(0,u.jsx)(l.Td,{children:r.city}),(0,u.jsx)(l.Td,{children:r.quantity}),(0,u.jsx)(l.Td,{children:r.total}),(0,u.jsx)(l.Td,{children:r.status}),(0,u.jsx)(l.Td,{children:new Date(r.createdAt).toLocaleDateString()}),(0,u.jsx)(l.Td,{children:(0,u.jsx)("button",{onClick:()=>{return n=r.order_id,void e("/admin-order-items/"+n);var n},children:"View"})})]},n)))})]}),v&&(0,u.jsx)(c.Z,{}),x.length<1&&!1===v?(0,u.jsx)(o.Z,{}):null,(0,u.jsx)("div",{ref:p,style:{height:"20px"}})]})};var j=n(9970);const m={};const f=function(){return(0,u.jsx)(j.Z,{children:(0,u.jsx)("div",{className:m.cart_wrapper,children:(0,u.jsx)(p,{})})})}},5336:(e,r,n)=>{n.d(r,{iA:()=>u,p3:()=>j,Td:()=>v,Th:()=>y,hr:()=>g,Tr:()=>S});var t=n(2791),a=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n},i=function(e){e.inHeader,e.columnKey,e.headers,e.forwardedRef;return a(e,["inHeader","columnKey","headers","forwardedRef"])};const s=i;var l=(0,t.createContext)(void 0);function d(e){var r=e.children,n=(0,t.useState)([]),a=n[0],i=n[1],s=(0,t.useMemo)((function(){return{headers:a,setHeaders:i}}),[a]);return t.createElement(l.Provider,{value:s},r)}var o=function(){return o=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},o.apply(this,arguments)},c=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n},h=(0,t.forwardRef)((function(e,r){var n=e.className,a=c(e,["className"]),s="".concat(n||""," responsiveTable");return t.createElement("table",o({"data-testid":"table"},i(a),{className:s,ref:r}))}));h.displayName="Table";const u=function(e){return t.createElement(d,null,t.createElement(h,o({},e)))};var p=function(){return p=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},p.apply(this,arguments)};const j=function(e){return t.createElement("tbody",p({"data-testid":"tbody"},s(e)))};var m=function(){return m=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},m.apply(this,arguments)};const f=function(e){var r=e.headers,n=e.children,a=e.columnKey,i=e.className,l=e.colSpan,d="".concat(i||""," pivoted");return l?t.createElement("td",m({"data-testid":"td"},s(e))):t.createElement("td",m({"data-testid":"td"},s(e),{className:d}),t.createElement("div",{"data-testid":"td-before",className:"tdBefore"},r[a]),null!==n&&void 0!==n?n:t.createElement("div",null,"\xa0"))};var x=function(){return x=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},x.apply(this,arguments)};const v=function(e){var r=(0,t.useContext)(l);if(!r)throw new Error("Td must be used as a child of the Table component");var n=r.headers;return t.createElement(f,x({},e,{headers:n}))};var b=function(){return b=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},b.apply(this,arguments)};const y=function(e){return t.createElement("th",b({"data-testid":"th"},s(e)))};var O=function(){return O=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},O.apply(this,arguments)};const g=function(e){var r=e.children;return t.createElement("thead",O({"data-testid":"thead"},s(e)),t.cloneElement(r,{inHeader:!0}))};var _=function(){return _=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},_.apply(this,arguments)},w=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n},T=function(e,r,n){if(n||2===arguments.length)for(var t,a=0,i=r.length;a<i;a++)!t&&a in r||(t||(t=Array.prototype.slice.call(r,0,a)),t[a]=r[a]);return e.concat(t||Array.prototype.slice.call(r))};const E=function(e){var r=e.children,n=e.inHeader,a=w(e,["children","inHeader"]),i=(0,t.useContext)(l);if(!i)throw new Error("TrInner must be used as a child of the Table component");var d=i.setHeaders,o=i.headers;return(0,t.useEffect)((function(){if(n){var e=T([],o,!0);t.Children.forEach(r,(function(r,n){t.isValidElement(r)&&(e[n]=r.props.children)})),d(e)}}),[n,r]),t.createElement("tr",_({"data-testid":"tr"},s(a)),r&&t.Children.map(r,(function(e,r){return t.isValidElement(e)?t.cloneElement(e,{key:r,columnKey:r}):null})))};var N=function(){return N=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},N.apply(this,arguments)};const S=function(e){var r=(0,t.useContext)(l);if(!r)throw new Error("Tr must be used as a child of the Table component");var n=r.headers;return t.createElement(E,N({},e,{headers:n}))}},6338:()=>{}}]);
//# sourceMappingURL=814.b9e4f0bd.chunk.js.map