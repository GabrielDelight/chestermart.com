"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[245],{7245:(e,s,r)=>{r.r(s),r.d(s,{default:()=>_});var a=r(2791),o=r(6871),i=r(3504),l=r(7512),n=r(6727),t=r(5705),d=r(8007),c=r(1830),m=r.n(c),h=r(2189),p=r(184);const u=d.Ry().shape({email:d.Z_().email("Invalid email address").required("Your valid email is required"),password:d.Z_().min(8).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,"Password must contain at least 8 characters, one uppercase letter, one lowercase letter, one number, and one special character.").required("Password is required")});const _=function(){(0,a.useEffect)((()=>{window.localStorage.removeItem("token")}),[]);const[e,{isLoading:s}]=(0,h.f9)(),r=(0,o.s0)();return(0,p.jsx)(l.Z,{children:(0,p.jsx)(t.J9,{initialValues:{email:"",password:""},onSubmit:s=>{let a=new URLSearchParams(window.location.search).get("redirect"),o="/";a&&(o="/"+a),e({url:"/login",body:s}).unwrap().then((e=>{console.log(e);let s=e.user.token;window.localStorage.setItem("token",s),r(o)})).catch((e=>{m().fire({icon:"error",title:"Oops...",text:e.data.message}),console.log(e)}))},validationSchema:u,children:e=>{let{handleChange:r,handleSubmit:a,setFieldTouched:o,touched:l,isValid:t,values:d,errors:c}=e;return(0,p.jsx)("div",{className:n.Z.main,children:(0,p.jsx)("div",{className:n.Z.wrapper,children:(0,p.jsxs)("div",{className:n.Z.form,children:[(0,p.jsx)("p",{className:n.Z.form_title,children:"Sign In"}),(0,p.jsxs)("div",{className:n.Z.form_list,children:[(0,p.jsx)("label",{htmlFor:"",children:"E-mail Address"}),(0,p.jsx)("input",{type:"email",placeholder:"johnsmith@email.com",name:"email",value:d.email,onChange:r("email")}),l.email&&c.email&&(0,p.jsx)("p",{className:n.Z.error,children:c.email})]}),(0,p.jsxs)("div",{className:n.Z.form_list,children:[(0,p.jsx)("label",{htmlFor:"",children:"Password"}),(0,p.jsx)("input",{type:"password",placeholder:"Enter your password",name:"password",value:d.password,onChange:r("password")}),l.password&&c.password&&(0,p.jsx)("p",{className:n.Z.error,children:c.password}),(0,p.jsxs)("p",{children:[(0,p.jsx)(i.rU,{to:"/forgot-password",children:"Forgot password?"})," "]})]}),(0,p.jsx)("div",{className:n.Z.form_list,children:(0,p.jsx)("button",{type:"submit",onClick:()=>a(),children:s?"Please wait...":"Login"})}),(0,p.jsxs)("p",{children:["Don't have an account?"," ",(0,p.jsx)(i.rU,{to:"/signup",children:"Register now"}),"."]})]})})})}})})}},6727:(e,s,r)=>{r.d(s,{Z:()=>a});const a={main:"Login_main__-Woik",wrapper:"Login_wrapper__olPZx",form_title:"Login_form_title__SPX-U",form_row:"Login_form_row__QlWgU",form:"Login_form__aduzR",form_list:"Login_form_list__uNq9C",error:"Login_error__VGhM-"}}}]);
//# sourceMappingURL=245.25b550ec.chunk.js.map