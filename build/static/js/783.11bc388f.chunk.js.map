{"version":3,"file":"static/js/783.11bc388f.chunk.js","mappings":"mOAQA,MAAMA,EAAaC,EAAAA,KAAaC,MAAM,CACpCC,MAAOF,EAAAA,KACJE,MAAM,yBACNC,SAAS,gCAEZC,SAAUJ,EAAAA,KACPK,IAAI,GACJC,QACC,iEACA,mIAEDH,SAAS,0BA4Gd,QAzGA,YACEI,EAAAA,EAAAA,YAAU,KACRC,OAAOC,aAAaC,WAAW,cAA/B,GACC,IACH,MAAOC,IAAeC,EAAAA,EAAAA,MAChBC,GAAWC,EAAAA,EAAAA,MAEjB,OACI,SAAC,KAAD,CACEC,cAAe,CACbb,MAAO,GACPE,SAAU,IAEZY,SAAWC,IAET,IAAIC,EADQ,IAAIC,gBAAgBX,OAAOY,SAASC,QAC9BC,IAAI,YAClBC,EAAkB,IAClBL,IACFK,EAAa,IAAIL,GAGnBP,EAAY,CACVa,IAAK,eACLC,KAAMR,IAELS,SACAC,MAAMC,IACLC,QAAQC,IAAIF,GAEZ,IAAIG,EAAQH,EAAKI,KAAKD,MACtBvB,OAAOC,aAAawB,QAAQ,cAAeF,GAE3ClB,EAAS,mBAAT,IAEDqB,OAAOC,IACNC,IAAAA,KAAU,CACRC,KAAM,QACNC,MAAO,UACPC,KAAMJ,EAAMP,KAAKY,UAGnBX,QAAQC,IAAIK,EAAZ,GApBJ,EAuBFM,iBAAkB1C,EApCpB,SAsCG,QAAC,aACA2C,EADA,aAEAC,EAFA,gBAGAC,EAHA,QAIAC,EAJA,QAKAC,EALA,OAMA7B,EANA,OAOA8B,GAPD,SASC,gBAAKC,UAAWC,EAAAA,EAAAA,KAAhB,UACE,gBAAKD,UAAWC,EAAAA,EAAAA,QAAhB,UACE,iBAAKD,UAAWC,EAAAA,EAAAA,KAAhB,WACE,cAAGD,UAAWC,EAAAA,EAAAA,WAAd,4BAEA,iBAAKD,UAAWC,EAAAA,EAAAA,UAAhB,WACE,kBAAOC,QAAQ,GAAf,6BACA,kBACEC,KAAK,QACLC,YAAY,sBACZC,KAAK,QACLC,MAAOrC,EAAOf,MACdqD,SAAUb,EAAa,WAExBG,EAAQ3C,OAAS6C,EAAO7C,QACvB,cAAG8C,UAAWC,EAAAA,EAAAA,MAAd,SAA8BF,EAAO7C,YAGzC,iBAAK8C,UAAWC,EAAAA,EAAAA,UAAhB,WACE,kBAAOC,QAAQ,GAAf,uBACA,kBACEC,KAAK,WACLC,YAAY,sBACZC,KAAK,WACLC,MAAOrC,EAAOb,SACdmD,SAAUb,EAAa,cAExBG,EAAQzC,UAAY2C,EAAO3C,WAC1B,cAAG4C,UAAWC,EAAAA,EAAAA,MAAd,SAA8BF,EAAO3C,eAOzC,gBAAK4C,UAAWC,EAAAA,EAAAA,UAAhB,UACE,mBAAQO,QAAS,IAAMb,IAAvB,sBAEF,kDACyB,KACvB,SAAC,KAAD,CAAMc,GAAI,gBAAV,0BAFF,aA/CP,GAyDR,C,kCC5HD,SAAgB,KAAO,oBAAoB,QAAU,uBAAuB,WAAa,0BAA0B,SAAW,wBAAwB,KAAO,oBAAoB,UAAY,yBAAyB,MAAQ,qB","sources":["components/pages/Admin/Auth/AdminLogin.tsx","webpack://my-app/./src/Styles/Login.module.css?fbf6"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport classes from \"../../../../Styles/Login.module.css\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Swal from \"sweetalert2\";\nimport { usePostRequestMutation } from \"../../../../store/services/users\";\n\nconst FormSchema = Yup.object().shape({\n  email: Yup.string()\n    .email(\"Invalid email address\")\n    .required(\"Your valid email is required\"),\n\n  password: Yup.string()\n    .min(8)\n    .matches(\n      /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,\n      \"Password must contain at least 8 characters, one uppercase letter, one lowercase letter, one number, and one special character.\"\n    )\n    .required(\"Password is required\"),\n});\n\nfunction AdminLogin() {\n  useEffect(() => {\n    window.localStorage.removeItem(\"admin-token\");\n  }, []);\n  const [PostRequest] = usePostRequestMutation();\n  const navigate = useNavigate();\n\n  return (\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        onSubmit={(values) => {\n          const url = new URLSearchParams(window.location.search);\n          let new_url = url.get(\"redirect\");\n          let redirectTo: any = \"/\";\n          if (new_url) {\n            redirectTo = \"/\"+new_url;\n          }\n\n          PostRequest({\n            url: \"/admin/login\",\n            body: values,\n          })\n            .unwrap()\n            .then((data) => {\n              console.log(data);\n\n              let token = data.user.token;\n              window.localStorage.setItem(\"admin-token\", token);\n\n              navigate(\"/admin/dashboard\");\n            })\n            .catch((error) => {\n              Swal.fire({\n                icon: \"error\",\n                title: \"Oops...\",\n                text: error.data.message,\n              });\n\n              console.log(error);\n            });\n        }}\n        validationSchema={FormSchema}\n      >\n        {({\n          handleChange,\n          handleSubmit,\n          setFieldTouched,\n          touched,\n          isValid,\n          values,\n          errors,\n        }) => (\n          <div className={classes.main}>\n            <div className={classes.wrapper}>\n              <div className={classes.form}>\n                <p className={classes.form_title}>Admin Sign In</p>\n\n                <div className={classes.form_list}>\n                  <label htmlFor=\"\">E-mail Address</label>\n                  <input\n                    type=\"email\"\n                    placeholder=\"johnsmith@email.com\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={handleChange(\"email\")}\n                  />\n                  {touched.email && errors.email && (\n                    <p className={classes.error}>{errors.email}</p>\n                  )}\n                </div>\n                <div className={classes.form_list}>\n                  <label htmlFor=\"\">Password</label>\n                  <input\n                    type=\"password\"\n                    placeholder=\"Enter your password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange(\"password\")}\n                  />\n                  {touched.password && errors.password && (\n                    <p className={classes.error}>{errors.password}</p>\n                  )}\n                  {/* <p>\n                    <Link to={\"/forgot-password\"}>Forgot password?</Link>{\" \"}\n                  </p> */}\n                </div>\n\n                <div className={classes.form_list}>\n                  <button onClick={() => handleSubmit()}>Login</button>\n                </div>\n                <p>\n                  Don't have an account?{\" \"}\n                  <Link to={\"/admin/signup\"}>Register now</Link>.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </Formik>\n  );\n}\n\nexport default AdminLogin;\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Login_main__-Woik\",\"wrapper\":\"Login_wrapper__olPZx\",\"form_title\":\"Login_form_title__SPX-U\",\"form_row\":\"Login_form_row__QlWgU\",\"form\":\"Login_form__aduzR\",\"form_list\":\"Login_form_list__uNq9C\",\"error\":\"Login_error__VGhM-\"};"],"names":["FormSchema","Yup","shape","email","required","password","min","matches","useEffect","window","localStorage","removeItem","PostRequest","usePostRequestMutation","navigate","useNavigate","initialValues","onSubmit","values","new_url","URLSearchParams","location","search","get","redirectTo","url","body","unwrap","then","data","console","log","token","user","setItem","catch","error","Swal","icon","title","text","message","validationSchema","handleChange","handleSubmit","setFieldTouched","touched","isValid","errors","className","classes","htmlFor","type","placeholder","name","value","onChange","onClick","to"],"sourceRoot":""}