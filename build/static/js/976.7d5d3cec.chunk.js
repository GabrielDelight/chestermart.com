"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[976],{3976:(i,e,s)=>{s.r(e),s.d(e,{default:()=>f});var t=s(2791),r=s(6355),d=s(3504),c=s(6871),l=s(5706),a=s(7512),n=s(3024),o=s(2189);const _={main:"Product_main__2EFOO",left_side:"Product_left_side__1NNrj",right_side:"Product_right_side__K1PeV",qty_wrapper:"Product_qty_wrapper__qYt9o",cart_btn:"Product_cart_btn__xBwab",btn_wrapper:"Product_btn_wrapper__RedAH",description:"Product_description__-8vAI",para:"Product_para__GFsZH",property_list:"Product_property_list__jflhh",product_wrapper:"Product_product_wrapper__Jan7B",dispcth_xx:"Product_dispcth_xx__u4So9",dispatch_time:"Product_dispatch_time__-2vzn",img_lists:"Product_img_lists__jElg4",rating_wrap:"Product_rating_wrap__GggHy"};var u=s(5895),v=s(9381),p=s(3543),h=s(1574);const m="MatchingProduct_product_wrapper__wEMA1";var x=s(184);const j=i=>{let{brand:e,category:s}=i;const{ref:r,inView:d}=(0,u.YD)({threshold:.1}),[c,l]=(0,t.useState)(10),{data:a=[],isLoading:n,refetch:_}=(0,o.$L)("/filter-products?limit=".concat(c,"&&category=").concat(s,"&&brand=").concat(e,"&&maxPrice=",9e7,"&&minPrice=",0));return(0,t.useEffect)((()=>{d&&(l(c+10),setTimeout((()=>{_()}),100))}),[d]),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:m,children:a.map((i=>(0,x.jsx)(v.Z,{image:i.image1,name:i.name,price:i.price,_id:i._id,item:i},i.id)))}),n&&(0,x.jsx)(h.Z,{}),a.length<1&&!1===n?(0,x.jsx)(p.Z,{}):null,(0,x.jsx)("div",{id:"posts",ref:r,style:{height:"20px"}})]})};var g=s(9126);const f=function(){var i,e;const{id:s}=(0,c.UO)(),{data:u={}}=(0,o.$L)("/product/"+s),{data:v,isLoading:p}=(0,o.$L)("/ratings-summary/".concat(s)),[h,m]=(0,t.useState)([]),[f,y]=(0,t.useState)((0,n.r)()+(null===u||void 0===u?void 0:u.image1)),N=i=>{y((0,n.r)()+i)};(0,t.useEffect)((()=>{y((0,n.r)()+(null===u||void 0===u?void 0:u.image1))}),[null===u||void 0===u?void 0:u.image1]),(0,t.useEffect)((()=>{let i=[];try{i=JSON.parse((null===u||void 0===u?void 0:u.specifications)||"[]")}catch(e){console.error("Error parsing specifications:",e)}Array.isArray(i)&&m(i)}),[null===u||void 0===u?void 0:u.specifications]);let[b,w]=(0,t.useState)({count:1});(0,t.useEffect)((()=>{let i=JSON.parse(window.localStorage.getItem("cart")||"[]"),[e]=i.filter((i=>i._id===s));e&&w((()=>({count:e.quantity})))}),[]);const P=i=>{w((e=>({count:"inc"===i?e.count+=1:e.count-=1})))};return(0,x.jsxs)(a.Z,{children:[(0,x.jsxs)("main",{className:_.main,children:[(0,x.jsxs)("div",{className:_.left_side,children:[(0,x.jsx)(l.Z,{src:f,alt:"",height:400}),(0,x.jsxs)("div",{className:_.img_lists,children:[(0,x.jsx)(l.Z,{onClick:()=>N(null===u||void 0===u?void 0:u.image1),src:(0,n.r)()+(null===u||void 0===u?void 0:u.image1),alt:""}),(null===u||void 0===u||null===(i=u.image2)||void 0===i?void 0:i.length)>0&&(0,x.jsx)("div",{children:(0,x.jsx)(l.Z,{onClick:()=>N(null===u||void 0===u?void 0:u.image2),src:(0,n.r)()+(null===u||void 0===u?void 0:u.image2),alt:""})}),(null===u||void 0===u||null===(e=u.image3)||void 0===e?void 0:e.length)>0&&(0,x.jsx)("div",{children:(0,x.jsx)(l.Z,{onClick:()=>N(null===u||void 0===u?void 0:u.image3),src:(0,n.r)()+(null===u||void 0===u?void 0:u.image3),alt:""})})]})]}),(0,x.jsxs)("div",{className:_.right_side,children:[(0,x.jsx)("h1",{className:_.h1,children:null===u||void 0===u?void 0:u.name}),(0,x.jsxs)("h4",{children:["Brand: ",null===u||void 0===u?void 0:u.brand]}),(0,x.jsxs)("h4",{children:["Price: "," ",(0,x.jsxs)("b",{children:["$",null===u||void 0===u?void 0:u.price]})," ",(0,x.jsxs)("del",{children:[" $",(null===u||void 0===u?void 0:u.price)+(null===u||void 0===u?void 0:u.price)/2]})]}),(0,x.jsxs)("div",{className:_.rating_wrap,children:[[0,1,2,3,4].map((i=>(0,x.jsx)("div",{children:(null===v||void 0===v?void 0:v.ratings)<=i?(0,x.jsx)(g.RrZ,{color:"chocolate",size:20}):(0,x.jsx)(g.kRm,{color:"chocolate",size:20})},i))),(0,x.jsx)(d.rU,{to:"/ratings/"+(null===u||void 0===u?void 0:u._id),children:(0,x.jsxs)("p",{children:["(",null===v||void 0===v?void 0:v.itemlength," verified ratings)"]})})]}),(0,x.jsxs)("div",{className:_.btn_wrapper,children:[(0,x.jsxs)("div",{className:_.qty_wrapper,children:[(0,x.jsx)("button",{onClick:()=>P("dsc"),disabled:1===b.count,children:(0,x.jsx)(r.bUI,{})}),(0,x.jsx)("input",{type:"number",disabled:!0,value:b.count}),(0,x.jsx)("button",{onClick:()=>P("inc"),children:(0,x.jsx)(r.Dli,{})})]}),(0,x.jsx)("button",{className:_.cart_btn,onClick:()=>{let i=JSON.parse(window.localStorage.getItem("cart")||"[]");if(i.filter((i=>i._id===s)).length>0)return i.map((i=>(i._id===s&&(i.quantity=b.count),i))),void localStorage.setItem("cart",JSON.stringify(i));let e=[...i,{...u,quantity:1}];localStorage.setItem("cart",JSON.stringify(e))},children:"Add to Cart"})]}),(0,x.jsxs)("div",{className:_.dispcth_xx,children:[(0,x.jsxs)("div",{className:_.dispatch_time,children:[(0,x.jsx)("small",{children:"Dispatched in 5 - 7 weeks"}),(0,x.jsx)(r.a4m,{})]}),(0,x.jsx)("div",{className:_.dispatch_time,children:(0,x.jsx)("small",{children:"Home Delivery - $10"})})]}),(0,x.jsxs)("div",{className:_.description,children:[(0,x.jsx)("h4",{children:"DESCRIPTION"}),(0,x.jsx)("p",{className:_.para,children:null===u||void 0===u?void 0:u.description}),(0,x.jsx)("div",{children:h.map(((i,e)=>(0,x.jsxs)("div",{className:_.property_list,children:[(0,x.jsxs)("h4",{children:[i.property,":"]}),(0,x.jsx)("p",{children:i.value})]},e)))})]})]})]}),(0,x.jsxs)("section",{className:"section",children:[(0,x.jsx)("h1",{children:"Matching With"}),(0,x.jsx)(j,{brand:null===u||void 0===u?void 0:u.brand,category:null===u||void 0===u?void 0:u.category})]})]})}}}]);
//# sourceMappingURL=976.7d5d3cec.chunk.js.map