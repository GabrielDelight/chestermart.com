"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[673],{6222:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(2791),s=r(6355),i=r(3504),n=r(3024),l=r(5706),c=r(9126),d=r(1830),o=r.n(d),_=r(2189);const m="CreateRatings_container__QdrFd",u="CreateRatings_wrapper__CxQ8N",x="CreateRatings_star_wrapper__ZmWve";var h=r(184);const p=e=>{let{productId:t,onCloseHandler:r}=e;const[i]=(0,_.f9)();let[n,l]=(0,a.useState)(0),[d,p]=(0,a.useState)("");return(0,h.jsx)("div",{className:m,id:"wrapper-close",children:(0,h.jsxs)("div",{className:u,children:[(0,h.jsxs)("header",{children:[(0,h.jsx)("p",{children:"Ratings and Review"}),(0,h.jsx)(s.aHS,{onClick:r})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:x,children:[0,1,2,3,4].map((e=>(0,h.jsx)("div",{onClick:()=>(e=>{l(e+1)})(e),children:n<=e?(0,h.jsx)(c.RrZ,{color:"chocolate",size:25}):(0,h.jsx)(c.kRm,{color:"chocolate",size:25})},e)))}),(0,h.jsx)("textarea",{onChange:e=>p(e.target.value),placeholder:"Enter a review",name:"",id:"",maxLength:100}),(0,h.jsx)("button",{onClick:()=>n<1?alert("Please give a rating"):d.length<1?alert("Please enter your review"):void i({url:"/ratings",body:{rating:n,comment:d,productId:t}}).unwrap().then((e=>{console.log(e),o().fire({icon:"success",text:e.message}),r()})).catch((e=>{o().fire({icon:"error",title:"Oops...",text:e.data.message}),console.log(e)})),children:"Submit"})]})]})})},j="CartList_main__nKEPP",g="CartList_img_wrapper__0sepj",v="CartList_details_wrapper__kS+N6",w="CartList_qty_wrapper__oawpH",y="CartList_cart_btn__wt2wI",C="CartList_btn_wrapper__xfOEy",b="CartList_big_txt__mjvt5",N="CartList_price_wrapper__KOTCf",f=e=>{var t;let{item:r,isCart:c=!1,hasRatings:d=!1}=e;const o=e=>{let t=JSON.parse(window.localStorage.getItem("cart")||"[]");if(t.filter((e=>e._id===r._id)).length>0)return t.map((t=>(t._id===r._id&&(t.quantity>=1?("inc"==e&&(t.quantity+=1),"dsc"==e&&(t.quantity-=1)):t.quantity=1),t))),void localStorage.setItem("cart",JSON.stringify(t))},[_,m]=(0,a.useState)(!1),u=()=>{m(!_)};return(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("div",{className:g,children:(0,h.jsx)(i.rU,{to:"/product/"+r._id,children:(0,h.jsx)(l.Z,{src:(0,n.r)()+r.image1,alt:""})})}),(0,h.jsxs)("div",{className:v,children:[(0,h.jsxs)("p",{className:b,children:[r.name," (",r.brand,")"]}),(0,h.jsx)("div",{className:N,children:(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:[null===r||void 0===r||null===(t=r.price)||void 0===t?void 0:t.toLocaleString("en")," x ",r.quantity," = $",((null===r||void 0===r?void 0:r.price)*r.quantity).toLocaleString()]})})}),c&&(0,h.jsxs)("div",{className:C,children:[(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("button",{onClick:()=>o("dsc"),disabled:1===r.quantity,children:(0,h.jsx)(s.bUI,{})}),(0,h.jsx)("input",{type:"number",disabled:!0,value:r.quantity}),(0,h.jsx)("button",{onClick:()=>o("inc"),children:(0,h.jsx)(s.Dli,{})})]}),(0,h.jsxs)("button",{className:y,onClick:()=>{if(!window.confirm("Are you sure you want to remove this item from your cart?"))return;let e=JSON.parse(window.localStorage.getItem("cart")||"[]").filter((e=>e._id!==r._id));localStorage.setItem("cart",JSON.stringify(e))},children:[" ","Remove"]})]}),d&&(0,h.jsxs)("button",{className:y,onClick:u,children:[" ","Give a review"]}),_&&(0,h.jsx)(p,{productId:r._id,onCloseHandler:u})]})]})}},1607:(e,t,r)=>{r.d(t,{Z:()=>d});var a=r(2791),s=r(6871),i=r(872),n=r(9866);const l="ProfileStyles_main__OBJ23";var c=r(184);const d=e=>{let{children:t}=e;const r=(0,s.s0)(),d=localStorage.getItem("token"),o=(e=>{if(!e||"undefined"===e)return void r("/login");const t=JSON.parse(atob(e.split(".")[1]));return Math.floor(Date.now()/1e3)>=t.exp})(d);return(0,a.useEffect)((()=>{o&&alert("Session has expired"),(o||!d||d.length<1)&&r("/login")}),[o]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,{}),(0,c.jsxs)("main",{className:l,children:[(0,c.jsx)("aside",{children:(0,c.jsx)(n.Z,{})}),(0,c.jsx)("article",{children:t})]})]})}},9673:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(1607);const s={main:"OrderItemPage_main__bN04s",article:"OrderItemPage_article__1yg5w",aside:"OrderItemPage_aside__yAxBR",title:"OrderItemPage_title__-eCp0",cart_sub_title:"OrderItemPage_cart_sub_title__UQm8m"};var i=r(6222),n=r(3504),l=r(6871),c=r(2189),d=r(184);const o=function(){const{id:e}=(0,l.UO)(),{data:t=[]}=(0,c.$L)("/orders/"+e);return(0,d.jsx)(a.Z,{children:(0,d.jsx)("main",{className:s.main,children:(0,d.jsxs)("div",{className:s.article,children:[(0,d.jsxs)("p",{children:[(0,d.jsx)(n.rU,{to:"/my-order",children:"Order"})," / item"]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:s.title,children:"My Order Lists"}),(0,d.jsx)("p",{className:s.cart_sub_title,children:"Here is your fantastic order list, and we are pleased to inform you that your item has been approved by our admin."})]}),(0,d.jsx)("br",{}),(0,d.jsx)("div",{className:s.cart_wrapper,children:t.map((e=>(0,d.jsx)(i.Z,{item:e,hasRatings:!0})))})]})})})}}}]);
//# sourceMappingURL=673.57a2fd9f.chunk.js.map